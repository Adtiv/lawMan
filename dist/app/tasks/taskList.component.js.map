{"version":3,"file":"taskList.component.js","sourceRoot":"","sources":["file:///C:/Users/datoc/OneDrive/Documents/GitHub/lawManWeb/tmp/broccoli_type_script_compiler-input_base_path-2Or9DHZ9.tmp/0/src/app/tasks/taskList.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAkC,eAAe,CAAC,CAAA;AAClD,6BAAiE,cAAc,CAAC,CAAA;AAChF,uBAAgC,iBAAiB,CAAC,CAAA;AAElD,kCAA+B,qBAAqB,CAAC,CAAA;AACrD,8BAA2B,iBAAiB,CAAC,CAAA;AAC7C,6BAA0B,sBAAsB,CAAC,CAAA;AACjD,8BAAgI,6BAA6B,CAAC,CAAA;AAC9J,wBAAuB,iBAAiB,CAAC,CAAA;AACzC,IAAY,MAAM,WAAM,QAAQ,CAAC,CAAA;AACjC,IAAI,GAAG,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAUlC;IAuBC,2BAAmB,IAAkB,EAAC,EAAe,EAAC,WAAyB,EAAE,WAAuB;QAArF,SAAI,GAAJ,IAAI,CAAc;QAf5B,WAAM,GAAoB,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC;QAGjD,UAAK,GAAG,CAAC,iBAAiB,EAAE,qBAAqB;YACxC,oBAAoB,EAAE,mBAAmB,EAAE,OAAO,CAAC,CAAA;QAY7D,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,EAAE,GAAC,EAAE,CAAC;QACX,IAAI,CAAC,WAAW,GAAC,WAAW,CAAC;IAC9B,CAAC;IACD,oCAAQ,GAAR;QAAA,iBAYC;QAXA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,MAAM,GAAC,EAAE,CAAC;QACf,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC;QACV,IAAI,CAAC,gBAAgB,GAAC,WAAW,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAC,IAAI;YACxB,EAAE,CAAA,CAAC,IAAI,CAAC,CAAA,CAAC;gBACb,KAAI,CAAC,KAAK,GAAE,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAC9C,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC;YACpC,CAAC;QACF,CAAC,CAAC,CAAA;QACP,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACzB,CAAC;IACC,mCAAO,GAAP,UAAQ,IAAY;QAClB,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;IACzC,CAAC;IACH,uCAAW,GAAX,UAAY,MAAM;QACjB,EAAE,CAAA,CAAC,MAAM,IAAE,MAAM,CAAC,CAAA,CAAC;YACZ,IAAI,CAAC,gBAAgB,GAAC,WAAW,CAAC;QACzC,CAAC;QACD,IAAI,CAAC,EAAE,CAAA,CAAC,MAAM,IAAE,QAAQ,CAAC,CAAA,CAAC;YACnB,IAAI,CAAC,gBAAgB,GAAC,kBAAkB,CAAC;QAChD,CAAC;QACD,EAAE,CAAA,CAAC,MAAM,IAAE,UAAU,CAAC,CAAA,CAAC;YAChB,IAAI,CAAC,gBAAgB,GAAC,oBAAoB,CAAC;QAClD,CAAC;QACD,EAAE,CAAA,CAAC,MAAM,IAAE,WAAW,CAAC,CAAA,CAAC;YACjB,IAAI,CAAC,gBAAgB,GAAC,sBAAsB,CAAC;QACpD,CAAC;QACD,EAAE,CAAA,CAAC,MAAM,IAAE,WAAW,CAAC,CAAA,CAAC;YACjB,IAAI,CAAC,gBAAgB,GAAC,qBAAqB,CAAC;QACnD,CAAC;QACD,EAAE,CAAA,CAAC,MAAM,IAAE,OAAO,CAAC,CAAA,CAAC;YACb,IAAI,CAAC,gBAAgB,GAAC,OAAO,CAAC;QACrC,CAAC;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAClD,MAAM,CAAC,KAAK,CAAC;IACd,CAAC;IACD,yCAAa,GAAb,UAAc,WAAW;QACxB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;QAC5C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;IACrE,CAAC;IACD,sCAAU,GAAV,UAAW,IAAI;QACd,EAAE,CAAA,CAAC,IAAI,CAAC,OAAO,IAAE,IAAI,CAAC,IAAI,CAAC,CAAA,CAAC;YAC3B,IAAI,CAAC,OAAO,GAAC,EAAE,CAAC;YAChB,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC;QACvB,CAAC;QACD,IAAI,CAAA,CAAC;YACJ,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,IAAI,CAAC;YACvB,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,GAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrE,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACd,CAAC;IACD,sCAAU,GAAV;QACI,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QACtB,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnD,IAAI,WAAW,GAAC,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC5C,IAAI,UAAU,GAAE,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC3C,IAAI,gBAAgB,GAAG,UAAU,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAC/D,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,EAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,IAAI,EAAC,IAAI,CAAC,QAAQ,EAAC,gBAAgB,EAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACnI,IAAI,CAAC,IAAI,GAAC,CAAC,IAAI,CAAC,IAAI,CAAC;IACtB,CAAC;IACD,sCAAU,GAAV,UAAW,IAAI;QACd,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,IAAE,IAAI,CAAC,OAAO,CAAC,CAAA,CAAC;YAC3B,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QACD,IAAI,CAAA,CAAC;YACJ,qCAAqC;YACrC,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QACC,qCAAqC;IACxC,CAAC;IACC,mCAAO,GAAP;QACC,wCAAwC;QACvC,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;IAClE,CAAC;IACH,sCAAU,GAAV,UAAW,IAAI;QACd,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtD,MAAM,CAAC,KAAK,CAAC;IACd,CAAC;IACD,sCAAU,GAAV,UAAW,IAAI;QAAf,iBAgBC;QAfA,IAAI,CAAC,IAAI,GAAC,CAAC,IAAI,CAAC,IAAI,CAAC;QACrB,IAAI,CAAC,cAAc,GAAC,IAAI,CAAC,IAAI,CAAC;QAC9B,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC,KAAK,CAAC;QACtB,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC,WAAW,CAAC;QAChC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,GAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,UAAA,SAAS;YACxE,SAAS,CAAC,OAAO,CAAC,UAAA,QAAQ;gBACxB,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,GAAC,KAAI,CAAC,WAAW,CAAC,GAAG,GAAC,GAAG,GAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACzF,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAA;QACF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,IAAI,GAAC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,QAAQ,CAAC;QAC5B,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,QAAQ,CAAC;QAC3B,QAAQ,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC;IAClE,CAAC;IACD,qCAAS,GAAT;QACC,IAAI,CAAC,IAAI,GAAC,CAAC,IAAI,CAAC,IAAI,CAAC;IACtB,CAAC;IACD,oCAAQ,GAAR,UAAS,IAAU;QAClB,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,IAAE,CAAC,CAAC,CAAA,CAAC;YACvB,MAAM,CAAC,kBAAkB,CAAC;QAC3B,CAAC;QACD,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,IAAE,CAAC,CAAC,CAAA,CAAC;YAC5B,MAAM,CAAC,oBAAoB,CAAC;QAC7B,CAAC;QACD,IAAI,CAAA,CAAC;YACJ,MAAM,CAAC,kBAAkB,CAAC;QAC3B,CAAC;IACF,CAAC;IAnJF;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,WAAW;YACrB,WAAW,EAAE,yBAAyB;YACtC,SAAS,EAAE,CAAC,qBAAqB,CAAC;YAClC,aAAa,EAAC,CAAC,iCAAiB,CAAC;YACjC,UAAU,EAAE,CAAC,kBAAQ,EAAC,oCAAgB,EAAC,iCAAiB,EAAC,mCAAmB,EAAC,iCAAiB,EAAC,+BAAe,EAAC,wBAAe,EAAC,qCAAqB,CAAC;SACtJ,CAAC;;yBAAA;IA6IF,wBAAC;AAAD,CAAC,AA5ID,IA4IC;AA5IY,yBAAiB,oBA4I7B,CAAA","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFire, FirebaseListObservable,FirebaseAuth } from 'angularfire2';\nimport { CORE_DIRECTIVES } from '@angular/common';\nimport {Task} from './task';\nimport {AddTaskComponent} from './addTask.component';\nimport {TasksService} from './tasks.service';\nimport {UserService} from '../user/user.service';\nimport {BS_VIEW_PROVIDERS,CollapseDirective, DROPDOWN_DIRECTIVES, BUTTON_DIRECTIVES,MODAL_DIRECTVES,DATEPICKER_DIRECTIVES} from 'ng2-bootstrap/ng2-bootstrap';\nimport {Calendar} from 'primeng/primeng';\nimport * as moment from 'moment';\nlet now = moment().format('LLLL');\n\n@Component({\n  moduleId: module.id,\n  selector: 'Task-List',\n  templateUrl: 'taskList.component.html',\n  styleUrls: ['tasks.component.css'],\n  viewProviders:[BS_VIEW_PROVIDERS],\n  directives: [Calendar,AddTaskComponent,CollapseDirective,DROPDOWN_DIRECTIVES,BUTTON_DIRECTIVES,MODAL_DIRECTVES,CORE_DIRECTIVES,DATEPICKER_DIRECTIVES]\n})\nexport class TaskListComponent implements OnInit {\n\ttaskService: TasksService;\n  \ttasks: FirebaseListObservable<any[]>;\n  \ttaskClients: FirebaseListObservable<any[]>;\n\tclients;\n\tclient;  \t\n  \tpublic isCollapsed:boolean;\n  \ttaskKey;\n  \tpublic status:{isopen:boolean} = {isopen: false};\n  \tfilterButtonText;\n  \tedit;\n  \ttypes = ['Motion Response', 'Mediation Statement',\n            'Discovery Response', 'Pleading Response', 'Other']\n  \ttitle;\n  \tdescription;\n  \tdueDate;\n  \t//currentDate: Date = new Date();\n  \tdate;\n  \ttaskType;\n  \toldType;\n  \tupdatedTaskKey;\n  \taf;\n  \tuserService:UserService\n\tconstructor(public auth: FirebaseAuth,af: AngularFire,taskService: TasksService, userService:UserService){\n\t\tthis.taskService = taskService;\n\t\tthis.af=af;\n\t\tthis.userService=userService;\n\t}\n\tngOnInit() {\n\t\tthis.isCollapsed = true;\n\t\tthis.client=\"\";\n\t\tthis.edit=true;\n  \t    this.filterButtonText=\"All Tasks\";\n  \t    this.auth.subscribe((data)=>{\n  \t    \tif(data){\n\t\t\t\tthis.tasks =this.taskService.getTasks('none');\n\t\t\t\tthis.clients = this.taskService.clients;\n  \t    \t}\n  \t    })\n\t\tconsole.log(this.tasks);\n\t}\n  \ttoggled(open:boolean):void {\n    \tconsole.log('Dropdown is now: ', open);\n  \t}\n\tfilterTasks(filter){\n\t\tif(filter==\"none\"){\n  \t      this.filterButtonText=\"All Tasks\";\n\t\t}\n\t\telse if(filter==\"motion\"){\n  \t      this.filterButtonText=\"Motion Responses\";\n\t\t}\n\t\tif(filter==\"pleading\"){\n  \t      this.filterButtonText=\"Pleading Responses\";\n\t\t}\n\t\tif(filter==\"mediation\"){\n  \t      this.filterButtonText=\"Mediation Statements\";\n\t\t}\n\t\tif(filter==\"discovery\"){\n  \t      this.filterButtonText=\"Discovery Responses\";\n\t\t}\n\t\tif(filter==\"other\"){\n  \t      this.filterButtonText=\"Other\";\n\t\t}\n\t    this.tasks = this.taskService.getTasks(filter);\n\t\treturn false;\n\t}\n\tfilterByColor(filterColor){\n\t\tthis.taskService.filterByColor(filterColor);\n\t\tthis.tasks = this.taskService.getTasks(this.taskService.taskFilter);\n\t}\n\tactiveTask(task){\n\t\tif(this.taskKey==task.$key){\n\t\t\tthis.taskKey=\"\";\n\t\t\tthis.taskClients=null;\n\t\t}\n\t\telse{\n\t\t\tthis.taskKey=task.$key;\n\t\t\tthis.taskClients=this.af.database.list('taskClients/'+this.taskKey);\n\t\t}\n\t\treturn false;\n\t}\n\tupdateTask(){\n\t    var curr = new Date();\n\t    var due = this.taskService.parseDateISO(this.date);\n\t    var currentDate=moment(curr).startOf('day');\n\t    var futureDate =moment(due).startOf('day');\n\t    var differenceInDays = futureDate.diff(currentDate, 'days');\n\t\tthis.taskService.updateTask(this.updatedTaskKey,this.title,this.description,this.date,this.taskType,differenceInDays,this.oldType);\n\t\tthis.edit=!this.edit;\n\t}\n\ttaskDetail(task){\n\t\tif(task.$key==this.taskKey){\n\t\t\treturn false;\n\t\t}\n\t\telse{\n\t\t\t//this.isCollapsed=!this.isCollapsed;\n\t\t\treturn true;\n\t\t}\n\t  \t//this.isCollapsed=!this.isCollapsed;\n\t}\n  \tgetDate():number {\n  \t\t//this.dueDate=this.date.toDateString();\n    \treturn this.date && this.date.getTime() || new Date().getTime();\n  \t}\n\tdeleteTask(task){\n\t\tconsole.log(task);\n\t\tthis.taskService.deleteTask(task.$key, task.taskType);\n\t\treturn false;\n\t}\n\teditToggle(task){\n\t\tthis.edit=!this.edit;\n\t\tthis.updatedTaskKey=task.$key;\n\t\tthis.title=task.title;\n\t\tthis.description=task.description;\n\t\t  this.af.database.list('taskClients/'+this.updatedTaskKey).subscribe(snapshots => {\n\t        snapshots.forEach(snapshot => {\n\t          this.client = this.af.database.object('clients/'+this.userService.uid+'/'+snapshot.$key);\n\t          console.log(this.client.name);\n\t        }); \n\t      })\n\t      console.log(this.client.name);\n\t\tthis.date=new Date(task.dueDate);\n\t\tthis.taskType=task.taskType;\n\t\tthis.oldType=task.taskType;\n\t\tdocument.body.scrollTop = document.documentElement.scrollTop = 0;\n\t}\n\tcloseEdit(){\n\t\tthis.edit=!this.edit;\n\t}\n\tgetStyle(task: Task){\n\t\tif(task.daysTillDue<=2){\n\t\t\treturn \"rgba(255,0,0,.8)\";\n\t\t}\n\t\telse if(task.daysTillDue<=5){\n\t\t\treturn \"rgba(255,255,0,.8)\";\n\t\t}\n\t\telse{\n\t\t\treturn \"rgba(0,255,0,.8)\";\n\t\t}\n\t}\n}\n"]}