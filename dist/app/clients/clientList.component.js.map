{"version":3,"file":"clientList.component.js","sourceRoot":"","sources":["file:///C:/Users/datoc/OneDrive/Documents/GitHub/lawManWeb/tmp/broccoli_type_script_compiler-input_base_path-2Or9DHZ9.tmp/0/src/app/clients/clientList.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFire, FirebaseListObservable,FirebaseAuth } from 'angularfire2';\nimport {AddClientComponent} from './addClient.component';\nimport {ClientService} from './clients.service';\nimport {UserService} from '../user/user.service';\nimport { CORE_DIRECTIVES } from '@angular/common';\nimport {BS_VIEW_PROVIDERS,CollapseDirective, DROPDOWN_DIRECTIVES} from 'ng2-bootstrap/ng2-bootstrap';\nimport {SearchPipe} from \"./search.pipe\"\n//import 'xlsx'; declare let XLSX;\n\n@Component({\t\n  moduleId: module.id,\n  selector: 'Client-List',\n  pipes: [SearchPipe],\n  templateUrl: 'clientList.component.html',\n  styleUrls: ['clients.component.css'],\n  viewProviders: [BS_VIEW_PROVIDERS],\n  directives: [AddClientComponent,CollapseDirective,CORE_DIRECTIVES]\n})\nexport class ClientListComponent implements OnInit {\n\tclientService: ClientService;\n  \tclients: FirebaseListObservable<any[]>;\n  \tpublic isCollapsed:boolean;\n  \tclientKey;\n  \tclientTasks: FirebaseListObservable<any[]>;  \n  \taf;\t\n  \tsearchClient;\n  \tclientList;\n  \tspreadsheet;\n  \tlocalClientKey;\n  \tupdatedClientKey;\n  \tedit;\n  \tname;\n  \temail;\n  \tphoneNumber;\n  \taddress;\n\tconstructor(public auth:FirebaseAuth,af: AngularFire,clientService: ClientService,userService:UserService){\n\t\t//this.spreadsheet = XLSX;\n\t\tthis.clientService = clientService;\n\t\tthis.af=af;\n\t}\n\tngOnInit() {\n\t\tthis.auth.subscribe((data)=>{\n\t\t\tif(data){\n\t\t\t\tthis.clients =this.clientService.getClients();\n\t\t\t}\n\t\t})\n\t\tthis.searchClient=\"\";\n\t\tthis.isCollapsed = true;\n\t\tthis.edit=true;\n\t}\n\tonKey(event:any){\n\t\tthis.clientList=this.clientService.getLocalClientList();\n\t\tthis.searchClient=event.target.value;\n\t\tconsole.log(this.searchClient);\n\t}\n\teditToggle(client, isLocal){\n\t\tthis.edit=!this.edit;\n\t\tthis.name=client.name;\n\t\tthis.email=client.email;\n\t\tthis.phoneNumber=client.phoneNumber;\n\t\tthis.address=client.address;\n\t\tif(!isLocal){\n\t\t\tthis.updatedClientKey=client.$key;\n\t\t}\n\t\telse{\n\t\t\tthis.updatedClientKey=client.key;\n\t\t}\n\t\tdocument.body.scrollTop = document.documentElement.scrollTop = 0;\n\t}\n\tgetStyle(clientTask){\n\t\tif(clientTask.days<=2){\n\t\t\treturn \"rgba(255,0,0,1)\";\n\t\t}\n\t\telse if(clientTask.days<=5){\n\t\t\treturn \"rgba(255,255,0,1)\";\n\t\t}\n\t\telse{\n\t\t\treturn \"rgba(0,255,0,1)\";\n\t\t}\n\t}\n\tupdateClient(){\n\t\tthis.edit=!this.edit;\n\t\tthis.clientService.updateClient(this.updatedClientKey,this.name,this.email,this.phoneNumber,this.address);\n\t}\n\tcloseEdit(){\n\t\tthis.edit=!this.edit;\n\t}\n\tdeleteClient(client){\n\t\tthis.clientService.deleteClient(client.$key);\n\t\treturn false;\n\t}\n\tdeleteLocalClient(clientKey){\n\t\tthis.clientService.deleteClient(clientKey);\n\t\tthis.searchClient=\"\";\n\t\treturn false;\n\t}\n\tclientDetail(client){\n\t\tif(client.$key==this.clientKey){\n\t\t\treturn false;\n\t\t}\n\t\telse{\n\t\t\t//this.isCollapsed=!this.isCollapsed;\n\t\t\treturn true;\n\t\t}\n\t}\n\tlocalClientDetail(client){\n\t\tif(client.key==this.localClientKey){\n\t\t\treturn false;\n\t\t}\n\t\telse{\n\t\t\t//this.isCollapsed=!this.isCollapsed;\n\t\t\treturn true;\n\t\t}\n\t}\n\tactiveClient(client){\n\t\tif(this.clientKey==client.$key){\n\t\t\tthis.clientKey=\"\";\n\t\t\tthis.clientTasks=null;\n\t\t}\n\t\telse{\n\t\t\tthis.clientKey=client.$key;\n\t\t\tthis.clientTasks=this.af.database.list('clientTasks/'+this.clientKey,{\n\t            query: {\n\t              orderByChild: 'days',\n\t            }\n\t          });\n\t\t\tconsole.log(this.clientKey);\n\t\t}\n\t\treturn false;\n\t}\n\tactiveLocalClient(client){\n\t\tif(this.localClientKey==client.key){\n\t\t\tthis.localClientKey=\"\";\n\t\t\tthis.clientTasks=null;\n\t\t}\n\t\telse{\n\t\t\tthis.localClientKey=client.key;\n\t\t\tthis.clientTasks=this.af.database.list('clientTasks/'+this.localClientKey,{\n\t            query: {\n\t              orderByChild: 'days',\n\t            }\n\t          });\n\t\t\tconsole.log(this.localClientKey);\n\t\t}\n\t\treturn false;\t\t\n\t}\n}\n"]}